---
# Those vars are designed to convert a systemd slice ('some-slice.slice')
# to the matching cgroup under /sys/fs/cgroup ('/some.slice/some-slice.slice')
kube_slice_cgroup: "{{ ('/' + ((kube_slice | splitext)[0].split('-') | map('split')
                        | community.general.accumulate | map('join', '-') | join('.slice/') + 'slice/'))
                      if kubelet_cgroup_driver == 'cgroupfs' else kube_slice }}/"
system_slice_cgroup: "{{ ('/' + ((system_slice | splitext)[0].split('-') | map('split')
                        | community.general.accumulate | map('join', '-') | join('.slice/') + 'slice/'))
                      if kubelet_cgroup_driver == 'cgroupfs' else system_slice }}/"
